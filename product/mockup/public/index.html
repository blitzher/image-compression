<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Not Messenger</title>
        <script>
            const $ = (id) => document.getElementById(id);
        </script>
        <link rel="stylesheet" href="./css/style.css" />

        <!-- Plugin from "remote" source -->
        <script src="/plugin/main.js"></script>
        <script>
            initPlugin();
        </script>
    </head>

    <body>
        <!-- input for name, hidden when displayName is set -->
        <div class="displayname-set" style="display: none" id="setName">
            <form name="setDisplayNameForm">
                <p>Display name</p>
                <input
                    type="text"
                    name="setDisplayName"
                    id="displayNameInput"
                />
                <br />
                <input type="submit" value="Confirm" />
            </form>
        </div>

        <!-- wrapper for the primary page elements -->
        <div class="app">
            <div class="chat">
                <!-- the name of current user -->
                <div class="chat__menu">
                    <p id="currentUser"></p>

                    <!-- Plugin custom element-->
                    <plugin-modal>
                        <p slot="title">Compression modal</p>
                    </plugin-modal>
                </div>

                <!-- the chatbox, with all past messages -->
                <div class="chat__box">
                    <div id="chatbox"></div>
                </div>

                <!-- input field from user, with text, images and send button -->
                <form id="msgForm" name="msgForm" class="chat__msgform">
                    <span>
                        <input
                            type="text"
                            name="msgInput"
                            id="msgInput"
                            autofocus="on"
                            autocomplete="off"
                        />

                        <label
                            for="imageUpload"
                            id="uploadLabel"
                            class="chat__upload-label"
                            >Upload</label
                        >

                        <input
                            type="file"
                            name="imageUpload"
                            id="imageUpload"
                            class="--hidden-input"
                        />

                        <input type="submit" value="Send" />
                    </span>
                </form>
            </div>

            <div class="chat__sidebar">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="feather feather-volume-2"
                    onclick="$('volume').value = Number.parseInt($('volume').value) + 10;"
                >
                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
                    <path
                        d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"
                    />
                </svg>
                <input orient="vertical" type="range" id="volume" />
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="feather feather-volume"
                    onclick="$('volume').value = Number.parseInt($('volume').value) - 10;"
                >
                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
                </svg>
            </div>
        </div>

        <!-- Entry (Load after UI DOM nodes) -->
        <script type="module" src="./js/main.js"></script>
    </body>
</html>
